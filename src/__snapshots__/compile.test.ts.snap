// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`build fails when a non-existent relative import is specified 1`] = `"Could not resolve './__doesNotExist.js' from src/__test__/compile/relativeImportNotFound.js"`;

exports[`build fails when an absolute import is specified 1`] = `/foo.js is imported by <cwd>/src/__test__/compile/absoluteImport.js, but absolute imports are disallowed`;

exports[`build fails when an unrecognized binary file is imported 1`] = `Failed to compile <cwd>/src/__test__/compile/randomData.js`;

exports[`build fails when unknown external imports are used 1`] = `"Compile failed."`;

exports[`build passes when building a minimal app 1`] = `
"'use strict';

console.log('hello world!');
"
`;

exports[`build passes when compiles a JS file with tslib helpers imported 1`] = `
"'use strict';

/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the \\"License\\"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
/* global Reflect, Promise */

var extendStatics = function(d, b) {
    extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return extendStatics(d, b);
};

function __extends(d, b) {
    extendStatics(d, b);
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
}

var Foo = function () {
    function Foo() {}
    Foo.prototype.doFoo = function () {};
    return Foo;
}();
var Bar = function (_super) {
    __extends(Bar, _super);
    function Bar() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Bar.prototype.doBar = function () {
        console.log('foo');
    };
    return Bar;
}(Foo);
var bar = new Bar();
bar.doBar();
"
`;

exports[`build passes when compiles a JS file with tslib helpers inline 1`] = `
"'use strict';

var __extends = undefined && undefined.__extends || function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (d, b) {
            d.__proto__ = b;
        } || function (d, b) {
            for (var p in b) {
                if (b.hasOwnProperty(p)) d[p] = b[p];
            }
        };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
}();
var Foo = function () {
    function Foo() {}
    Foo.prototype.doFoo = function () {};
    return Foo;
}();
var Bar = function (_super) {
    __extends(Bar, _super);
    function Bar() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Bar.prototype.doBar = function () {
        console.log('foo');
    };
    return Bar;
}(Foo);
var bar = new Bar();
bar.doBar();
"
`;

exports[`build passes when importing an image file 1`] = `
"'use strict';

var image = \\"data:image/png;base64,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\\";

console.log(image);
"
`;

exports[`build passes when known external imports are used 1`] = `
"'use strict';

function _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }

var goodImport = _interopDefault(require('_mock_external_import_'));

goodImport();
"
`;

exports[`build passes when require calls are unmodified 1`] = `
"'use strict';

var knownExternal = require('_mock_external_import_');
knownExternal();
var unknownRelative = require('./foo.js');
unknownRelative();
"
`;

exports[`build passes when tslib when imported 1`] = `
"'use strict';

/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the \\"License\\"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */

function __await(v) {
    return this instanceof __await ? (this.v = v, this) : new __await(v);
}

__await();
"
`;

exports[`emits diagnostics given JS code with bad syntax 1`] = `
Array [
  Object {
    "category": 1,
    "file": Object {
      "path": <cwd>/src/__test__/compile/badSyntax.js,
      "position": Object {
        "end": Object {
          "character": 17,
          "line": 0,
        },
        "start": Object {
          "character": 17,
          "line": 0,
        },
      },
    },
    "messageText": "TS1002: Unterminated string literal.",
  },
]
`;

exports[`emits diagnostics given TS code with a type error 1`] = `
Array [
  Object {
    "category": 1,
    "file": Object {
      "path": <cwd>/src/__test__/compile/typeError.ts,
      "position": Object {
        "end": Object {
          "character": 5,
          "line": 0,
        },
        "start": Object {
          "character": 4,
          "line": 0,
        },
      },
    },
    "messageText": "TS2322: Type '1' is not assignable to type 'string'.",
  },
]
`;

exports[`when allowUnknownExternals is enabled successfully builds an app with unknown external imports 1`] = `
"'use strict';

function _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }

var bogus = _interopDefault(require('_never_exists_'));

bogus();
"
`;

exports[`when allowUnknownExternals is enabled successfully builds an app with unknown external imports 2`] = `
Array [
  Array [
    Object {
      "category": 0,
      "messageText": "_never_exists_ is imported by src/__test__/compile/unknownExternalImport.js, but could not be resolved",
    },
  ],
]
`;

exports[`when compiling a module with statements above an import declaration builds 1`] = `
"'use strict';

require('_mock_external_import_');

var document = require('document');
console.log('Hello!');
"
`;

exports[`when targeting SDK 1.0 allows JSON imports 1`] = `
"'use strict';

var pebble = \\"fitbit\\";

console.log(pebble);
"
`;

exports[`when targeting SDK 1.0 allows unintentionally non-relative imports 1`] = `
"'use strict';

function importee() {
    return 1;
}

console.log(importee());
"
`;

exports[`when targeting SDK 1.0 allows unintentionally non-relative imports 2`] = `
Array [
  Object {
    "category": 0,
    "messageText": "Import in src/__test__/compile/incorrectlyNonRelativeImport.js has non-relative path but should be relative: replace 'importee' with './importee'.",
  },
]
`;

exports[`when targeting SDK 2.0 does not allow JSON imports 1`] = `<cwd>/src/__test__/compile/data.json: Unexpected token, expected ; (2:7)`;
